<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="Scripts/jquery-1.11.1.min.js"></script>
    <style>
        #stage {
            -webkit-perspective: 1500px;
            -webkit-perspective-origin: 50% 50%;
        }

        .collection{
            -webkit-transform:rotateY(-12deg);
            -webkit-transform-origin-x:226px;
            -webkit-transform-style: preserve-3d;
        }

        .cube {
            height: 25px;
            width: 25px;
            position: absolute;
            list-style: none;
            -webkit-transform-style: preserve-3d;
        }

        .cube div {
            height: 25px;
            width: 25px;
            font-size: 15px;
            color: white;
            line-height: 25px;
            text-align: center;
            position: absolute;
        }

        .cube .top {
            background-color: #fae163;
            -webkit-transform: rotateX(-90deg);
            -webkit-transform-origin-y: 0;
        }

        .cube .left{
            background-color: #f9d558;
        }

        .cube .right {
            background-color: #fabc43;
            -webkit-transform: rotateY(-90deg);
            -webkit-transform-origin-x: 100%;
        }

    </style>
</head>
<body>
<div id="stage">
    <div class="collection">
        <div class="cube" style="top:500px;left: 200px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="cube" style="top:500px;left: 226px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="cube" style="top:500px;left: 252px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="cube" style="top:500px;left: 278px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="cube" style="top:500px;left: 304px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="cube" style="top:474px;left: 304px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
        <div class="cube" style="top:500px;left: 304px;">
            <div class="top"></div>
            <div class="left"></div>
            <div class="right"></div>
        </div>
    </div>
</div>

</body>
<script type="text/javascript">
    $(document).ready(function () {
        $('.left').on('click', function () {
            var parentNode=$(this).parent();
            var cloneNode= parentNode.clone(true,true);

            $('.collection').append(cloneNode);
            alert(parentNode.css('-webkit-transform'));
            //alert(parentNode.css('-webkit-transform').indexOf('matrix3d'));
            if(parentNode.css('-webkit-transform').indexOf('matrix3d')>-1){
                //var reg=/rotateZ(\-?[0-9]+)/g;

                //var transformStr=$(this).css('-webkit-transform').match(reg);

                //var matrix3d=new WebKitCSSMatrix
                //var matri='matrix3d(0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,0)';

                //alert(matrix3d);
                //$('.collection .cube:last').css('-webkit-transform',matrix3d);
                //collectionDiv[collectionDiv.length-1].css('-webkit-transform');
            }
            else
            {
                $('.collection .cube:last').css('-webkit-transform','translateZ(26px)');
            }

        })
    });
    
</script>
</html>